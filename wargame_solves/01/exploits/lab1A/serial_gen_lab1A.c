#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main(int argc, char **argv){
	if(argc < 2){
		printf("1 argument required. Usage: ./solve (argument)\n");
		return -1;
	} else if (argc > 2){
        	printf("Only 1 argument is allowed. Usage: ./solve (argument)\n");
        	return -2;
    	}

	int length = strlen(argv[1]); 
    	int num = (argv[1][3] ^ 0x1337) + 6221293;

	for (int i = 0; i < length; i = i + 1) {
        	if (argv[1][i] < ' ') {
        		printf("Spaces are not permitted. Exiting.\n");
			return -3;
        	}

        	num = num + (argv[1][i]^ num) % 1337;
	}

	printf("Serial: %d\n", num);
	return 0;
}
